<!DOCTYPE html>
<html>
<head>
    <title>Online Store</title>
</head>
<body>

<h1>My Tool Store</h1>

<table id="products">
    <thead>
    <tr>
        <th>Title</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Categories</th>
    </tr>
    </thead>
    <tbody id="insertProducts">

    </tbody>
    <button id="refresh">
        Refresh Inventory
    </button>
</table>


<!--Your online tool store should load data from the JSON file using a get request
and append the data to the table.
 You will need to use either $.ajax() or $.get(), and a .done() callback.-->

<!--Add some new entries to inventory.json and see how the data on the page gets updated.-->

<!--Add a "Refresh" button that will load inventory.json for you without having to refresh the entire page.-->

<!--Add Twitter Bootstrap to your online store with some custom CSS to make the style your own.-->

<script src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

<script>
    (function () {
        "use strict";
        // TODO: Create an AJAX GET request for the file under data/inventory.json

        console.log("Before AJAX request is sent");

// get request
        $.ajax('data/inventory.json').done((response) => {
            console.log(response);
            console.log("Response received");
            renderInventory(response)

        });
function refreshButton(){
    $.ajax('data/inventory.json').done((response) => {
        console.log(response);
        console.log("Response received");
        renderInventory(response)

    });
}
        $('#refresh').click(function () {
            refreshButton()
        });

        // TODO: Take the data from inventory.json and append it to the products table
        //       HINT: Your data should come back as a JSON object; use console.log() to inspect
        //             its contents and fields
        function renderInventory(inventoryDataArray) {
            // clear render for refresh
            $('#insertProducts').empty()
            // start up loop
            for (let i = 0; i < inventoryDataArray.length; i++) {
               // adds table data
                $('#insertProducts').append(`
              <tr>
                <td>${inventoryDataArray[i].title}</td>
                <td>${inventoryDataArray[i].quantity}</td>
                <td>${inventoryDataArray[i].price}</td>
                <td>${inventoryDataArray[i].categories}</td>
              </tr>
                `)

            }
        }

        //       HINT: You will want to target #insertProducts for your new HTML elements
    })();
</script>

</body>
</html>
